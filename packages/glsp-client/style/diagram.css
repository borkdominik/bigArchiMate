/********************************************************************************
 * Copyright (c) 2023 CrossBreeze.
 ********************************************************************************/

:root {
   --sprotty-background: var(--theia-layout-color3);
   --sprotty-edge: var(--theia-editor-foreground);
   --sprotty-border: var(--theia-editor-foreground);

   /* Taken from https://www.archimatetool.com/downloads/colour-schemes/ArchiMate%20Standard%20-%203.2.prefs */
   --bg-application-layer: #b5ffff;
   --bg-business-layer: #ffffb5;
   --bg-implementation-and-migration-layer: #ffe0e0;
   --bg-motivation-layer: #ccccff;
   --bg-strategy-layer: #f5deaa;
   --bg-technology-layer: #c9e7b7;
}

/* Standard sprotty */
.sprotty {
   height: 100%;
}

.feedback-edge {
   pointer-events: none;
}

.sprotty-graph {
   font-size: 15pt;
   height: 100%;
   background-size: 11px;
}

.sprotty
   .edge-creation:not(.edge-check-pending-mode):not(.edge-creation-select-source-mode):not(.edge-creation-select-target-mode):not(
      .edge-reconnect-select-target-mode
   ):not(.edge-modification-not-allowed-mode) {
   cursor: ew-resize;
}

.sprotty
   .mapping-creation:not(.edge-check-pending-mode):not(.edge-creation-select-source-mode):not(.edge-creation-select-target-mode):not(
      .edge-reconnect-select-target-mode
   ):not(.edge-modification-not-allowed-mode) {
   cursor: ew-resize;
}

.sprotty text {
   font-family: monospace;
}

.sprotty-edge {
   stroke: #6d6d6d;
   stroke-width: 2px;
}

/* Nodes */
.sprotty-node:not(.selected, .mouseover) {
   stroke: #a8a1c5;
   stroke-width: 2px;
   /* filter: drop-shadow(1px 1px 1px rgba(0, 0, 0, 0.8)); */
}

/* Center text within nodes */
.sprotty-node text {
   text-anchor: middle;
   dominant-baseline: middle;
   font-family: Arial, sans-serif;
   font-size: 14px;
   fill: black;
}

.source-object .sprotty-node:not(.selected, .mouseover) {
   stroke: #a1c5a5;
}

.header-label {
   font-weight: bold;
   letter-spacing: 0.5px;
}

.attribute-compartment {
   stroke: none;
   fill: transparent;
}

.attribute-compartment.mouseover,
.sprotty-node.mouseover:not(.selected),
.sprotty-edge.mouseover:not(.selected) {
   stroke: var(--theia-focusBorder);
   stroke-width: 2px;
   opacity: 1;
}

.attribute-compartment.selected,
.sprotty-node.selected,
.sprotty-edge.selected {
   stroke: var(--theia-focusBorder);
   stroke-width: 2px;
   stroke-dasharray: 6px 3px;
}

.attribute-compartment.mouseover,
.attribute-compartment.selected,
.sprotty-node.mouseover:not(.selected),
.sprotty-node.selected {
   stroke-width: 2px;
}

.sprotty .attribute_expression_marker {
   text-anchor: start;
   fill: #666666;
   baseline-shift: 2px;
}

.sprotty line.identifier {
   stroke: black;
   stroke-width: 0.75px;
   stroke-dasharray: none;
   stroke-linecap: round;
}

/* .sprotty[id^='system-diagram'] .tool-palette {
   top: 11px;
   right: 11px;
   width: 150px;
   border: 1px solid #d7d7d7;
}

.sprotty[id^='system-diagram'] .tool-palette .palette-header,
.sprotty[id^='system-diagram'] .tool-palette .group-header,
.sprotty[id^='system-diagram'] .minimize-palette-button {
   display: none;
}

.sprotty[id^='system-diagram'] .tool-palette .tool-button {
   outline-width: 0;
}

.sprotty[id^='system-diagram'] .tool-palette .tool-button::before {
   margin-right: var(--theia-ui-padding);
   font-size: var(--theia-icon-size);
   font: normal normal normal 16px/1 codicon;
   content: '\eafd';
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;
}

.sprotty[id^='system-diagram'] .tool-palette .tool-button.clicked {
   background: var(--theia-activityBarBadge-background);
   color: var(--theia-activityBarBadge-foreground);
} */

.command-palette {
   animation: none;
}

.attribute.identifier .icon-path {
   transform: scale(0.0105) translate(-400px, 1375px);
   fill: #000;
}

.grid-background .sprotty-graph,
.grid-background.sprotty-graph {
   --background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30"><g><line x1="10" y1="15" x2="20" y2="15" stroke="black" stroke-width="1" stroke-linecap="round" stroke-opacity="0.15" /><line x1="15" y1="10" x2="15" y2="20" stroke="black" stroke-width="1" stroke-linecap="round" stroke-opacity="0.15" /></g></svg>');
   background-image: var(--background-image);
   background-size: var(--grid-background-width) var(--grid-background-height);
   background-position: var(--grid-background-x) var(--grid-background-y);
}

.sprotty .header-icon {
   display: flex;
}

.sprotty .header-icon i {
   display: none;
}

.sprotty .header-icon i {
   margin-right: 0.2em;
}

.sprotty .palette-header {
   flex-direction: row;
}

.label-edit input {
   text-align: center;
   background-color: transparent;
   outline-color: transparent;
   border: 0;
   letter-spacing: 0.9px;
}

.error-extension {
   position: absolute;
   width: 100%;
}

.bg-application-layer > rect,
.bg-application-layer > path {
   fill: var(--bg-application-layer);
}

.bg-business-layer > rect,
.bg-business-layer > path {
   fill: var(--bg-business-layer);
}

.bg-implementation-and-migration-layer > rect,
.bg-implementation-and-migration-layer > path {
   fill: var(--bg-implementation-and-migration-layer);
}

.bg-motivation-layer > rect,
.bg-motivation-layer > path {
   fill: var(--bg-motivation-layer);
}

.bg-strategy-layer > rect,
.bg-strategy-layer > path {
   fill: var(--bg-strategy-layer);
}

.bg-technology-layer > rect,
.bg-technology-layer > path {
   fill: var(--bg-technology-layer);
}

.tool-palette .group-header {
   height: 24px;
   padding: 4px;
}

.tool-palette .palette-body #application-layer-group > .group-header,
.tool-palette .palette-body #application-layer-group .tool-button {
   color: var(--bg-application-layer);
}

.tool-palette .palette-body #business-layer-group > .group-header,
.tool-palette .palette-body #business-layer-group .tool-button {
   color: var(--bg-business-layer);
}

.tool-palette .palette-body #implementation-and-migration-layer-group > .group-header,
.tool-palette .palette-body #implementation-and-migration-layer-group .tool-button {
   color: var(--bg-implementation-and-migration-layer);
}

.tool-palette .palette-body #motivation-layer-group > .group-header,
.tool-palette .palette-body #motivation-layer-group .tool-button {
   color: var(--bg-motivation-layer);
}

.tool-palette .palette-body #strategy-layer-group > .group-header,
.tool-palette .palette-body #strategy-layer-group .tool-button {
   color: var(--bg-strategy-layer);
}

.tool-palette .palette-body #technology-layer-group > .group-header,
.tool-palette .palette-body #technology-layer-group .tool-button {
   color: var(--bg-technology-layer);
}
